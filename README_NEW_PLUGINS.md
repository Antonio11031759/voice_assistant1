# üéØ –ù–æ–≤—ã–µ –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è Irene Voice Assistant

## üöÄ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–í –ø—Ä–æ–µ–∫—Ç Irene Voice Assistant –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

### 1. üß™ **–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω** (`plugin_test.py`)
- –ü—Ä–æ—Å—Ç–æ–π –ø–ª–∞–≥–∏–Ω –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–ª–∞–≥–∏–Ω–∞

### 2. üéµ **Spotify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (`plugin_spotify.py`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π —á–µ—Ä–µ–∑ Spotify API
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –ø–∞—É–∑–∞, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤
- –ü–æ–∏—Å–∫ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ –ø–æ –≥–æ–ª–æ—Å—É

### 3. üè† **Home Assistant –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (`plugin_homeassistant.py`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º
- –ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å–≤–µ—â–µ–Ω–∏—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
- –ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ —Å–Ω—É, —É—Ö–æ–¥ –∏–∑ –¥–æ–º–∞)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Irene-Voice-Assistant-master/
‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îú‚îÄ‚îÄ plugin_test.py           # –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω
‚îÇ   ‚îú‚îÄ‚îÄ plugin_spotify.py        # Spotify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ plugin_homeassistant.py  # Home Assistant –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ options/
‚îÇ   ‚îú‚îÄ‚îÄ test.json                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ spotify.json             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spotify
‚îÇ   ‚îî‚îÄ‚îÄ homeassistant.json       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Home Assistant
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ PLUGINS_SETUP.md         # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ test_plugins.py              # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ README_NEW_PLUGINS.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
python test_plugins.py
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Spotify
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. –ü–æ–ª—É—á–∏—Ç–µ `Client ID` –∏ `Client Secret`
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `options/spotify.json`
4. –ü–æ–ª—É—á–∏—Ç–µ `auth_code` —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Assistant
1. –°–æ–∑–¥–∞–π—Ç–µ Long-Lived Access Token –≤ Home Assistant
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `options/homeassistant.json`
3. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ Home Assistant —Å–µ—Ä–≤–µ—Ä–∞

### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
python runva_webapi.py
```

## üéÆ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω
- `—Ç–µ—Å—Ç` - –ø—Ä–æ—Å—Ç–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞
- `–∫–∞–∫ –¥–µ–ª–∞` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã  
- `–≤—Ä–µ–º—è` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### Spotify
- `–≤–∫–ª—é—á–∏ –º—É–∑—ã–∫—É` - –≤–∫–ª—é—á–∏—Ç—å/–ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
- `—Å–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫` - —Å–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫
- `–ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫
- `–ø–æ—Å—Ç–∞–≤—å —Ç—Ä–µ–∫ [–Ω–∞–∑–≤–∞–Ω–∏–µ]` - –ø–æ–∏—Å–∫ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- `—Å—Ç–∞—Ç—É—Å –º—É–∑—ã–∫–∏` - —á—Ç–æ —Å–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç

### Home Assistant
- `–≤–∫–ª—é—á–∏ —Å–≤–µ—Ç` - –≤–∫–ª—é—á–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
- `–≤—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç` - –≤—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–≤–µ—Ç–∞
- `–≤–∫–ª—é—á–∏ —Å–≤–µ—Ç –≤ [–∫–æ–º–Ω–∞—Ç–µ]` - –≤–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç –≤ –∫–æ–º–Ω–∞—Ç–µ
- `—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–æ–º–∞` - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
- `–≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–∞` - –ø–æ–ª—É—á–∏—Ç—å –≤–ª–∞–∂–Ω–æ—Å—Ç—å
- `–≥–æ—Ç–æ–≤–ª—é—Å—å –∫–æ —Å–Ω—É` - —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫–æ —Å–Ω—É
- `—É—Ö–æ–∂—É –∏–∑ –¥–æ–º–∞` - —Å—Ü–µ–Ω–∞—Ä–∏–π —É—Ö–æ–¥–∞ –∏–∑ –¥–æ–º–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Spotify
```json
{
    "is_active": true,
    "client_id": "–≤–∞—à_client_id",
    "client_secret": "–≤–∞—à_client_secret",
    "redirect_uri": "http://localhost:5003/spotify_callback",
    "auth_code": "–ø–æ–ª—É—á–µ–Ω–Ω—ã–π_auth_code"
}
```

### Home Assistant
```json
{
    "is_active": true,
    "base_url": "http://localhost:8123",
    "access_token": "–≤–∞—à_access_token",
    "default_room": "–≥–æ—Å—Ç–∏–Ω–∞—è"
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
python test_plugins.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5003`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: `docs/PLUGINS_SETUP.md`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞–≥–∏–Ω–æ–≤**: –∏–∑—É—á–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–ª–∞–≥–∏–Ω—ã –≤ –ø–∞–ø–∫–µ `plugins/`
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 
  - [Spotify Web API](https://developer.spotify.com/documentation/web-api)
  - [Home Assistant REST API](https://developers.home-assistant.io/docs/api/rest/)

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Spotify –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `client_id` –∏ `client_secret`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `auth_code` –ø–æ–ª—É—á–µ–Ω –∏ –≤—Å—Ç–∞–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `redirect_uri` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Spotify

### Home Assistant –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Home Assistant –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ `access_token`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–∫–µ–Ω–∞

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `test_plugins.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
1. –ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `plugin_–∏–º—è.py`
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ `start()` –∏ `start_with_options()`
4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `options/`
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ `test_plugins.py`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–≥–∏–Ω–∞
```python
def start(core: VACore):
    manifest = {
        'name': '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞',
        'version': '1.0',
        'require_online': True,
        'commands': {
            '–∫–æ–º–∞–Ω–¥–∞|–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞': —Ñ—É–Ω–∫—Ü–∏—è_–æ–±—Ä–∞–±–æ—Ç—á–∏–∫,
        }
    }
    return manifest

def —Ñ—É–Ω–∫—Ü–∏—è_–æ–±—Ä–∞–±–æ—Ç—á–∏–∫(core: VACore, phrase: str):
    core.play_voice_assistant_speech("–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é")
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `test_plugins.py`
3. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/PLUGINS_SETUP.md`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π —á–µ—Ä–µ–∑ Spotify
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —É–º–Ω–æ–≥–æ –¥–æ–º–∞ —á–µ—Ä–µ–∑ Home Assistant
- ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
